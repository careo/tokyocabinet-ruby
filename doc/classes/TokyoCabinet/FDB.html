<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: TokyoCabinet::FDB</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">TokyoCabinet::FDB</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/tokyocabinet-doc_rb.html">
                tokyocabinet-doc.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Fixed-Length database is a file containing a fixed-length table and is
handled with the fixed-length database API. Before operations to store or
retrieve records, it is necessary to <a href="FDB.html#M000039">open</a> a
database file and connect the fixed-length database object to it. To avoid
data missing or corruption, it is important to <a
href="FDB.html#M000040">close</a> every database file when it is no longer
in use.<br/> Except for the interface below, methods compatible with the
`Hash' class are also provided; `[]', `[]=',
`store', `delete', `fetch', `has_key?',
`has_value?', `key', `clear', `size',
`empty?', `each', `each_key', `each_value', and
`keys'.<br/>
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000051">adddouble</a>&nbsp;&nbsp;
      <a href="#M000050">addint</a>&nbsp;&nbsp;
      <a href="#M000040">close</a>&nbsp;&nbsp;
      <a href="#M000055">copy</a>&nbsp;&nbsp;
      <a href="#M000037">ecode</a>&nbsp;&nbsp;
      <a href="#M000036">errmsg</a>&nbsp;&nbsp;
      <a href="#M000058">fsiz</a>&nbsp;&nbsp;
      <a href="#M000045">get</a>&nbsp;&nbsp;
      <a href="#M000047">iterinit</a>&nbsp;&nbsp;
      <a href="#M000048">iternext</a>&nbsp;&nbsp;
      <a href="#M000035">new</a>&nbsp;&nbsp;
      <a href="#M000039">open</a>&nbsp;&nbsp;
      <a href="#M000053">optimize</a>&nbsp;&nbsp;
      <a href="#M000044">out</a>&nbsp;&nbsp;
      <a href="#M000056">path</a>&nbsp;&nbsp;
      <a href="#M000041">put</a>&nbsp;&nbsp;
      <a href="#M000043">putcat</a>&nbsp;&nbsp;
      <a href="#M000042">putkeep</a>&nbsp;&nbsp;
      <a href="#M000049">range</a>&nbsp;&nbsp;
      <a href="#M000057">rnum</a>&nbsp;&nbsp;
      <a href="#M000052">sync</a>&nbsp;&nbsp;
      <a href="#M000038">tune</a>&nbsp;&nbsp;
      <a href="#M000054">vanish</a>&nbsp;&nbsp;
      <a href="#M000046">vsiz</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">


    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ESUCCESS</td>
          <td>=</td>
          <td class="context-item-value">0</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: success

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ETHREAD</td>
          <td>=</td>
          <td class="context-item-value">1</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: threading error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">EINVALID</td>
          <td>=</td>
          <td class="context-item-value">2</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: invalid operation

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ENOFILE</td>
          <td>=</td>
          <td class="context-item-value">3</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: file not found

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ENOPERM</td>
          <td>=</td>
          <td class="context-item-value">4</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: no permission

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">EMETA</td>
          <td>=</td>
          <td class="context-item-value">5</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: invalid meta data

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ERHEAD</td>
          <td>=</td>
          <td class="context-item-value">6</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: invalid record header

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">EOPEN</td>
          <td>=</td>
          <td class="context-item-value">7</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: <a href="FDB.html#M000039">open</a> error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ECLOSE</td>
          <td>=</td>
          <td class="context-item-value">8</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: <a href="FDB.html#M000040">close</a> error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ETRUNC</td>
          <td>=</td>
          <td class="context-item-value">9</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: trunc error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ESYNC</td>
          <td>=</td>
          <td class="context-item-value">10</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: <a href="FDB.html#M000052">sync</a> error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ESTAT</td>
          <td>=</td>
          <td class="context-item-value">11</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: stat error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ESEEK</td>
          <td>=</td>
          <td class="context-item-value">12</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: seek error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">EREAD</td>
          <td>=</td>
          <td class="context-item-value">13</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: read error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">EWRITE</td>
          <td>=</td>
          <td class="context-item-value">14</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: write error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">EMMAP</td>
          <td>=</td>
          <td class="context-item-value">15</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: mmap error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ELOCK</td>
          <td>=</td>
          <td class="context-item-value">16</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: lock error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">EUNLINK</td>
          <td>=</td>
          <td class="context-item-value">17</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: unlink error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ERENAME</td>
          <td>=</td>
          <td class="context-item-value">18</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: rename error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">EMKDIR</td>
          <td>=</td>
          <td class="context-item-value">19</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: mkdir error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ERMDIR</td>
          <td>=</td>
          <td class="context-item-value">20</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: rmdir error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">EKEEP</td>
          <td>=</td>
          <td class="context-item-value">21</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: existing record

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ENOREC</td>
          <td>=</td>
          <td class="context-item-value">22</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: no record found

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">EMISC</td>
          <td>=</td>
          <td class="context-item-value">9999</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
error code: miscellaneous error

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">OREADER</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 0</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
<a href="FDB.html#M000039">open</a> mode: <a
href="FDB.html#M000039">open</a> as a reader

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">OWRITER</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 1</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
<a href="FDB.html#M000039">open</a> mode: <a
href="FDB.html#M000039">open</a> as a writer

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">OCREAT</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 2</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
<a href="FDB.html#M000039">open</a> mode: writer creating

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">OTRUNC</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 3</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
<a href="FDB.html#M000039">open</a> mode: writer truncating

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ONOLCK</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 4</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
<a href="FDB.html#M000039">open</a> mode: <a
href="FDB.html#M000039">open</a> without locking

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">OLCKNB</td>
          <td>=</td>
          <td class="context-item-value">1 &lt;&lt; 5</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
<a href="FDB.html#M000039">open</a> mode: lock without blocking

</td>
        </tr>
        </table>
      </div>
    </div>



      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000035" class="method-detail">
        <a name="M000035"></a>

        <div class="method-heading">
          <a href="FDB.src/M000035.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000035.html');return false;">
          <span class="method-name">new</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Create a fixed-length database object.<br/> The return value is the <a
href="FDB.html#M000035">new</a> fixed-length database object.<br/>
</p>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000051" class="method-detail">
        <a name="M000051"></a>

        <div class="method-heading">
          <a href="FDB.src/M000051.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000051.html');return false;">
          <span class="method-name">adddouble</span><span class="method-args">(key, num)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Add a real number to a record.<br/> `<em>key</em>' specifies the key. It
should be more than 0. If it is &quot;min&quot;, the minimum ID number of
existing records is specified. If it is &quot;prev&quot;, the number less
by one than the minimum ID number of existing records is specified. If it
is &quot;max&quot;, the maximum ID number of existing records is specified.
If it is &quot;next&quot;, the number greater by one than the maximum ID
number of existing records is specified.<br/> `<em>num</em>' specifies
the additional value.<br/> If successful, the return value is the summation
value, else, it is `nil'.<br/> If the corresponding record exists, the
value is treated as a real number and is added to. If no record
corresponds, a <a href="FDB.html#M000035">new</a> record of the additional
value is stored. Because records are stored in binary format, they should
be processed with the `unpack' method with the `d' operator
after retrieval.<br/>
</p>
        </div>
      </div>

      <div id="method-M000050" class="method-detail">
        <a name="M000050"></a>

        <div class="method-heading">
          <a href="FDB.src/M000050.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000050.html');return false;">
          <span class="method-name">addint</span><span class="method-args">(key, num)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Add an integer to a record.<br/> `<em>key</em>' specifies the key. It
should be more than 0. If it is &quot;min&quot;, the minimum ID number of
existing records is specified. If it is &quot;prev&quot;, the number less
by one than the minimum ID number of existing records is specified. If it
is &quot;max&quot;, the maximum ID number of existing records is specified.
If it is &quot;next&quot;, the number greater by one than the maximum ID
number of existing records is specified.<br/> `<em>num</em>' specifies
the additional value.<br/> If successful, the return value is the summation
value, else, it is `nil'.<br/> If the corresponding record exists, the
value is treated as an integer and is added to. If no record corresponds, a
<a href="FDB.html#M000035">new</a> record of the additional value is
stored. Because records are stored in binary format, they should be
processed with the `unpack' method with the `i' operator after
retrieval.<br/>
</p>
        </div>
      </div>

      <div id="method-M000040" class="method-detail">
        <a name="M000040"></a>

        <div class="method-heading">
          <a href="FDB.src/M000040.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000040.html');return false;">
          <span class="method-name">close</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Close the database file.<br/> If successful, the return value is true, else,
it is false.<br/> Update of a database is assured to be written when the
database is closed. If a writer opens a database but does not <a
href="FDB.html#M000040">close</a> it appropriately, the database will be
broken.<br/>
</p>
        </div>
      </div>

      <div id="method-M000055" class="method-detail">
        <a name="M000055"></a>

        <div class="method-heading">
          <a href="FDB.src/M000055.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000055.html');return false;">
          <span class="method-name">copy</span><span class="method-args">(path)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Copy the database file.<br/> `<em><a
href="FDB.html#M000056">path</a></em>' specifies the <a
href="FDB.html#M000056">path</a> of the destination file. If it begins with
`@', the trailing substring is executed as a command line.<br/> If
successful, the return value is true, else, it is false. False is returned
if the executed command returns non-zero code.<br/> The database file is
assured to be kept synchronized and not modified while the copying or
executing operation is in progress. So, this method is useful to create a
backup file of the database file.<br/>
</p>
        </div>
      </div>

      <div id="method-M000037" class="method-detail">
        <a name="M000037"></a>

        <div class="method-heading">
          <a href="FDB.src/M000037.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000037.html');return false;">
          <span class="method-name">ecode</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the last happened error code.<br/> The return value is the last happened
error code.<br/> The following error codes are defined:
`TokyoCabinet::FDB::ESUCCESS' for success,
`TokyoCabinet::FDB::ETHREAD' for threading error,
`TokyoCabinet::FDB::EINVALID' for invalid operation,
`TokyoCabinet::FDB::ENOFILE' for file not found,
`TokyoCabinet::FDB::ENOPERM' for no permission,
`TokyoCabinet::FDB::EMETA' for invalid meta data,
`TokyoCabinet::FDB::ERHEAD' for invalid record header,
`TokyoCabinet::FDB::EOPEN' for <a href="FDB.html#M000039">open</a>
error, `TokyoCabinet::FDB::ECLOSE' for <a
href="FDB.html#M000040">close</a> error, `TokyoCabinet::FDB::ETRUNC'
for trunc error, `TokyoCabinet::FDB::ESYNC' for <a
href="FDB.html#M000052">sync</a> error, `TokyoCabinet::FDB::ESTAT'
for stat error, `TokyoCabinet::FDB::ESEEK' for seek error,
`TokyoCabinet::FDB::EREAD' for read error,
`TokyoCabinet::FDB::EWRITE' for write error,
`TokyoCabinet::FDB::EMMAP' for mmap error,
`TokyoCabinet::FDB::ELOCK' for lock error,
`TokyoCabinet::FDB::EUNLINK' for unlink error,
`TokyoCabinet::FDB::ERENAME' for rename error,
`TokyoCabinet::FDB::EMKDIR' for mkdir error,
`TokyoCabinet::FDB::ERMDIR' for rmdir error,
`TokyoCabinet::FDB::EKEEP' for existing record,
`TokyoCabinet::FDB::ENOREC' for no record found, and
`TokyoCabinet::FDB::EMISC' for miscellaneous error.<br/>
</p>
        </div>
      </div>

      <div id="method-M000036" class="method-detail">
        <a name="M000036"></a>

        <div class="method-heading">
          <a href="FDB.src/M000036.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000036.html');return false;">
          <span class="method-name">errmsg</span><span class="method-args">(ecode)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the message string corresponding to an error code.<br/> `<em><a
href="FDB.html#M000037">ecode</a></em>' specifies the error code. If
it is not defined or negative, the last happened error code is specified.<br/>
The return value is the message string of the error code.<br/>
</p>
        </div>
      </div>

      <div id="method-M000058" class="method-detail">
        <a name="M000058"></a>

        <div class="method-heading">
          <a href="FDB.src/M000058.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000058.html');return false;">
          <span class="method-name">fsiz</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the size of the database file.<br/> The return value is the size of the
database file or 0 if the object does not connect to any database file.<br/>
</p>
        </div>
      </div>

      <div id="method-M000045" class="method-detail">
        <a name="M000045"></a>

        <div class="method-heading">
          <a href="FDB.src/M000045.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000045.html');return false;">
          <span class="method-name">get</span><span class="method-args">(key)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Retrieve a record.<br/> `<em>key</em>' specifies the key. It should be
more than 0. If it is `FDBIDMIN', the minimum ID number of existing
records is specified. If it is `FDBIDMAX', the maximum ID number of
existing records is specified.<br/> If successful, the return value is the
value of the corresponding record. `nil' is returned if no record
corresponds.<br/>
</p>
        </div>
      </div>

      <div id="method-M000047" class="method-detail">
        <a name="M000047"></a>

        <div class="method-heading">
          <a href="FDB.src/M000047.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000047.html');return false;">
          <span class="method-name">iterinit</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Initialize the iterator.<br/> If successful, the return value is true, else,
it is false.<br/> The iterator is used in order to access the key of every
record stored in a database.<br/>
</p>
        </div>
      </div>

      <div id="method-M000048" class="method-detail">
        <a name="M000048"></a>

        <div class="method-heading">
          <a href="FDB.src/M000048.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000048.html');return false;">
          <span class="method-name">iternext</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the next key of the iterator.<br/> If successful, the return value is the
next key, else, it is `nil'. `nil' is returned when no record
is to be <a href="FDB.html#M000045">get</a> <a
href="FDB.html#M000044">out</a> of the iterator.<br/> It is possible to access
every record by iteration of calling this function. It is allowed to update
or remove records whose keys are fetched while the iteration. The order of
this traversal access method is ascending of the ID number.<br/>
</p>
        </div>
      </div>

      <div id="method-M000039" class="method-detail">
        <a name="M000039"></a>

        <div class="method-heading">
          <a href="FDB.src/M000039.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000039.html');return false;">
          <span class="method-name">open</span><span class="method-args">(path, omode)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Open a database file.<br/> `<em><a
href="FDB.html#M000056">path</a></em>' specifies the <a
href="FDB.html#M000056">path</a> of the database file.<br/>
`<em>omode</em>' specifies the connection mode:
`TokyoCabinet::FDB::OWRITER' as a writer,
`TokyoCabinet::FDB::OREADER' as a reader. If the mode is
`TokyoCabinet::FDB::OWRITER', the following may be added by
bitwise-or: `TokyoCabinet::FDB::OCREAT', which means it creates a <a
href="FDB.html#M000035">new</a> database if not exist,
`TokyoCabinet::FDB::OTRUNC', which means it creates a <a
href="FDB.html#M000035">new</a> database regardless if one exists. Both of
`TokyoCabinet::FDB::OREADER' and `TokyoCabinet::FDB::OWRITER'
can be added to by bitwise-or: `TokyoCabinet::FDB::ONOLCK', which
means it opens the database file without file locking, or
`TokyoCabinet::FDB::OLCKNB', which means locking is performed without
blocking. If it is not defined, `TokyoCabinet::FDB::OREADER' is
specified.<br/> If successful, the return value is true, else, it is false.<br/>
</p>
        </div>
      </div>

      <div id="method-M000053" class="method-detail">
        <a name="M000053"></a>

        <div class="method-heading">
          <a href="FDB.src/M000053.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000053.html');return false;">
          <span class="method-name">optimize</span><span class="method-args">(bnum, width, limsiz)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Optimize the database file.<br/> `width' specifies the width of the
value of each record. If it is not defined or not more than 0, the current
setting is not changed.<br/> `limsiz' specifies the limit size of the
database file. If it is not defined or not more than 0, the current setting
is not changed.<br/> If successful, the return value is true, else, it is
false.<br/>
</p>
        </div>
      </div>

      <div id="method-M000044" class="method-detail">
        <a name="M000044"></a>

        <div class="method-heading">
          <a href="FDB.src/M000044.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000044.html');return false;">
          <span class="method-name">out</span><span class="method-args">(key)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Remove a record.<br/> `<em>key</em>' specifies the key. It should be
more than 0. If it is `FDBIDMIN', the minimum ID number of existing
records is specified. If it is `FDBIDMAX', the maximum ID number of
existing records is specified.<br/> If successful, the return value is true,
else, it is false.<br/>
</p>
        </div>
      </div>

      <div id="method-M000056" class="method-detail">
        <a name="M000056"></a>

        <div class="method-heading">
          <a href="FDB.src/M000056.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000056.html');return false;">
          <span class="method-name">path</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the <a href="FDB.html#M000056">path</a> of the database file.<br/> The
return value is the <a href="FDB.html#M000056">path</a> of the database
file or `nil' if the object does not connect to any database file.<br/>
</p>
        </div>
      </div>

      <div id="method-M000041" class="method-detail">
        <a name="M000041"></a>

        <div class="method-heading">
          <a href="FDB.src/M000041.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000041.html');return false;">
          <span class="method-name">put</span><span class="method-args">(key, value)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Store a record.<br/> `<em>key</em>' specifies the key. It should be more
than 0. If it is &quot;min&quot;, the minimum ID number of existing records
is specified. If it is &quot;prev&quot;, the number less by one than the
minimum ID number of existing records is specified. If it is
&quot;max&quot;, the maximum ID number of existing records is specified. If
it is &quot;next&quot;, the number greater by one than the maximum ID
number of existing records is specified.<br/> `<em>value</em>' specifies
the value.<br/> If successful, the return value is true, else, it is false.<br/>
If a record with the same key exists in the database, it is overwritten.<br/>
</p>
        </div>
      </div>

      <div id="method-M000043" class="method-detail">
        <a name="M000043"></a>

        <div class="method-heading">
          <a href="FDB.src/M000043.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000043.html');return false;">
          <span class="method-name">putcat</span><span class="method-args">(key, value)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Concatenate a value at the end of the existing record.<br/>
`<em>key</em>' specifies the key. It should be more than 0. If it is
&quot;min&quot;, the minimum ID number of existing records is specified. If
it is &quot;prev&quot;, the number less by one than the minimum ID number
of existing records is specified. If it is &quot;max&quot;, the maximum ID
number of existing records is specified. If it is &quot;next&quot;, the
number greater by one than the maximum ID number of existing records is
specified.<br/> `<em>value</em>' specifies the value.<br/> If successful,
the return value is true, else, it is false.<br/> If there is no corresponding
record, a <a href="FDB.html#M000035">new</a> record is created.<br/>
</p>
        </div>
      </div>

      <div id="method-M000042" class="method-detail">
        <a name="M000042"></a>

        <div class="method-heading">
          <a href="FDB.src/M000042.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000042.html');return false;">
          <span class="method-name">putkeep</span><span class="method-args">(key, value)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Store a <a href="FDB.html#M000035">new</a> record.<br/> `<em>key</em>'
specifies the key. It should be more than 0. If it is &quot;min&quot;, the
minimum ID number of existing records is specified. If it is
&quot;prev&quot;, the number less by one than the minimum ID number of
existing records is specified. If it is &quot;max&quot;, the maximum ID
number of existing records is specified. If it is &quot;next&quot;, the
number greater by one than the maximum ID number of existing records is
specified.<br/> `<em>value</em>' specifies the value.<br/> If successful,
the return value is true, else, it is false.<br/> If a record with the same
key exists in the database, this method has no effect.<br/>
</p>
        </div>
      </div>

      <div id="method-M000049" class="method-detail">
        <a name="M000049"></a>

        <div class="method-heading">
          <a href="FDB.src/M000049.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000049.html');return false;">
          <span class="method-name">range</span><span class="method-args">(interval, max)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get keys with an interval notation.<br/> `<em>interval</em>' specifies
the interval notation.<br/> `<em>max</em>' specifies the maximum number
of keys to be fetched. If it is not defined or negative, no limit is
specified.<br/> The return value is a list object of the keys of the
corresponding records. This method does never fail and return an empty list
even if no record corresponds.<br/>
</p>
        </div>
      </div>

      <div id="method-M000057" class="method-detail">
        <a name="M000057"></a>

        <div class="method-heading">
          <a href="FDB.src/M000057.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000057.html');return false;">
          <span class="method-name">rnum</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the number of records.<br/> The return value is the number of records or 0
if the object does not connect to any database file.<br/>
</p>
        </div>
      </div>

      <div id="method-M000052" class="method-detail">
        <a name="M000052"></a>

        <div class="method-heading">
          <a href="FDB.src/M000052.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000052.html');return false;">
          <span class="method-name">sync</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Synchronize updated contents with the file and the device.<br/> If successful,
the return value is true, else, it is false.<br/> This method is useful when
another process connects the same database file.<br/>
</p>
        </div>
      </div>

      <div id="method-M000038" class="method-detail">
        <a name="M000038"></a>

        <div class="method-heading">
          <a href="FDB.src/M000038.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000038.html');return false;">
          <span class="method-name">tune</span><span class="method-args">(width, limsiz)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Set the tuning parameters.<br/> `<em>width</em>' specifies the width of
the value of each record. If it is not defined or not more than 0, the
default value is specified. The default value is 255.<br/>
`<em>limsiz</em>' specifies the limit size of the database file. If
it is not defined or not more than 0, the default value is specified. The
default value is 268435456.<br/> If successful, the return value is true,
else, it is false. Note that the tuning parameters of the database should
be set before the database is opened.<br/>
</p>
        </div>
      </div>

      <div id="method-M000054" class="method-detail">
        <a name="M000054"></a>

        <div class="method-heading">
          <a href="FDB.src/M000054.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000054.html');return false;">
          <span class="method-name">vanish</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Remove all records.<br/> If successful, the return value is true, else, it is
false.<br/>
</p>
        </div>
      </div>

      <div id="method-M000046" class="method-detail">
        <a name="M000046"></a>

        <div class="method-heading">
          <a href="FDB.src/M000046.html" target="Code" class="method-signature"
            onclick="popupCode('FDB.src/M000046.html');return false;">
          <span class="method-name">vsiz</span><span class="method-args">(key)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get the size of the value of a record.<br/> `<em>key</em>' specifies the
key. It should be more than 0. If it is `FDBIDMIN', the minimum ID
number of existing records is specified. If it is `FDBIDMAX', the
maximum ID number of existing records is specified.<br/> If successful, the
return value is the size of the value of the corresponding record, else, it
is -1.<br/>
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
</div>

</body>
</html>
